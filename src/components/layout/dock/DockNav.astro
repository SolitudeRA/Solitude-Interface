---
import DockNavMobile from './DockNavMobile.tsx';
import { type Locale, DEFAULT_LOCALE, buildLocalePath } from '@lib/i18n';

interface Props {
    lang?: Locale;
}

const { lang = DEFAULT_LOCALE } = Astro.props;

// 构建多语言链接
const homeLink = `/${lang}`;
const postsLink = buildLocalePath(lang, 'post-view');
const aboutLink = buildLocalePath(lang, 'about');
const contactLink = '/contact'; // Contact页面不需要多语言支持
const privacyLink = buildLocalePath(lang, 'privacy-policy');
---

<!-- 移动端汉堡菜单 - 小于768px -->
<div class="flex justify-center md:hidden">
    <DockNavMobile client:load />
</div>

<!-- 桌面端导航栏 - 768px及以上 -->
<div class="hidden md:grid md:justify-items-center">
    <div
        class:list={[
            'text-color-ui flex items-center justify-center rounded-[2em]',
            'bg-gray-100 opacity-[0.85] shadow-xl dark:bg-zinc-800',
            'h-10 md:h-11 lg:h-12 xl:h-14',
            'min-h-[2.5rem] md:min-h-[2.75rem] lg:min-h-[3rem]',
            'w-auto max-w-full',
            'px-3 md:px-4 lg:px-5 xl:px-6 2xl:px-8',
            '3xl:space-x-12 space-x-2 md:space-x-3 lg:space-x-5 xl:space-x-8 2xl:space-x-10',
        ]}
    >
        <div>
            <a
                href={homeLink}
                class="text-xs font-medium whitespace-nowrap md:text-sm lg:text-base"
                >Home</a
            >
        </div>
        <div>
            <a
                href={postsLink}
                class="text-xs font-medium whitespace-nowrap md:text-sm lg:text-base"
                >Posts</a
            >
        </div>
        <div>
            <a
                href={aboutLink}
                class="text-xs font-medium whitespace-nowrap md:text-sm lg:text-base"
                >About</a
            >
        </div>
        <div>
            <a
                href={contactLink}
                class="text-xs font-medium whitespace-nowrap md:text-sm lg:text-base"
                >Contact</a
            >
        </div>
        <!-- RSS 在平板竖屏隐藏，横屏及以上显示 -->
        <div class="hidden lg:block">
            <a
                href=""
                class="text-xs font-medium whitespace-nowrap md:text-sm lg:text-base"
                >RSS</a
            >
        </div>
        <!-- Privacy Policy 仅在大屏显示 -->
        <div class="hidden xl:block">
            <a
                href={privacyLink}
                class="text-xs font-medium whitespace-nowrap md:text-sm lg:text-base"
                >Privacy</a
            >
        </div>
    </div>
</div>
