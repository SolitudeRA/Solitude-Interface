---
import Dock from './Dock.astro';
import DockNav from './DockNav.astro';
import DockSocial from './DockSocial.astro';
import { type Locale, DEFAULT_LOCALE } from '@lib/i18n';

interface Props {
    isFixed?: boolean;
    layout?: 'default' | 'home';
    lang?: Locale;
}

const {
    isFixed = false,
    layout = 'default',
    lang = DEFAULT_LOCALE,
} = Astro.props;
---

<Dock isFixed={isFixed}>
    {
        layout === 'home' ? (
            <>
                {/* 桌面端三栏布局 */}
                <div class="hidden md:block" />
                <DockNav lang={lang} />
                <DockSocial lang={lang} />
            </>
        ) : (
            <>
                {/* 桌面端三栏布局 */}
                <DockNav lang={lang} />
                <div class="hidden md:block" />
                <DockSocial lang={lang} />
            </>
        )
    }
</Dock>

{/* 移动端底部安全区域占位 */}
<div class="h-safe-area-inset-bottom md:hidden"></div>
